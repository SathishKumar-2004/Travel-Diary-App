import{j as s,L as m,r as i,A as h,a as u}from"./index-DXYuZLDw.js";import{C as x}from"./Card-BDWXq0O6.js";import{E as j}from"./axios-CcOVbyc0.js";import{u as p}from"./http-hook-kkJc3NUT.js";const f=e=>s.jsx("div",{className:`avatar ${e.className}`,style:e.style,children:s.jsx("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})}),g=({id:e,name:t,image:r,placeCount:a})=>s.jsx("li",{className:"user-item",children:s.jsx(x,{className:"user-item__content",children:s.jsxs(m,{to:`/${e}/places`,children:[s.jsx("div",{className:"user-item__image",children:s.jsx(f,{image:`https://travel-diary-app-production.up.railway.app/${r}`,alt:t})}),s.jsxs("div",{className:"user-item__info",children:[s.jsx("h2",{children:t}),s.jsxs("h3",{children:[a," ",a===1?"Place":"Places"]})]})]})})}),y=({items:e})=>e.length===0?s.jsxs("div",{className:"center",children:[" ",s.jsx("h2",{children:"No Users Found."})]}):s.jsx("ul",{className:"users-list",children:e.map(t=>s.jsx(g,{id:t.id,name:t.name,image:t.image,placeCount:t.places.length},t.id))}),C=()=>{const{isLoading:e,error:t,sendRequest:r,clearError:a}=p(),[l,d]=i.useState([]),o=i.useContext(h);return i.useEffect(()=>{(async()=>{try{const c=await r("https://travel-diary-app-production.up.railway.app/api/users/");d(c.users)}catch{}})()},[]),s.jsxs(s.Fragment,{children:[e&&s.jsx(u,{asOverlay:!0}),s.jsx(j,{error:t,onClear:a}),s.jsx(y,{items:l.filter(n=>n.id!==o.userId)})]})};export{C as default};
