import{j as s,L as o,r as i,A as h,a as u}from"./index-Be4YmKgC.js";import{C as x}from"./Card-AlK2HaY3.js";import{E as j}from"./axios-KlaVUNms.js";import{u as f}from"./http-hook-TREtcipU.js";const g=e=>s.jsx("div",{className:`avatar ${e.className}`,style:e.style,children:s.jsx("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})}),N=({id:e,name:t,image:a,placeCount:r})=>s.jsx("li",{className:"user-item",children:s.jsx(x,{className:"user-item__content",children:s.jsxs(o,{to:`/${e}/places`,children:[s.jsx("div",{className:"user-item__image",children:s.jsx(g,{image:`${a}`,alt:t})}),s.jsxs("div",{className:"user-item__info",children:[s.jsx("h2",{children:t}),s.jsxs("h3",{children:[r," ",r===1?"Place":"Places"]})]})]})})}),p=({items:e})=>e.length===0?s.jsxs("div",{className:"center",children:[" ",s.jsx("h2",{children:"No Users Found."})]}):s.jsx("ul",{className:"users-list",children:e.map(t=>s.jsx(N,{id:t.id,name:t.name,image:t.image,placeCount:t.places.length},t.id))}),E=()=>{const{isLoading:e,error:t,sendRequest:a,clearError:r}=f(),[c,d]=i.useState([]),m=i.useContext(h);return i.useEffect(()=>{(async()=>{try{const l=await a("https://loyal-smile-production.up.railway.app/api/users/");d(l.users)}catch{}})()},[]),s.jsxs(s.Fragment,{children:[e&&s.jsx(u,{asOverlay:!0}),s.jsx(j,{error:t,onClear:r}),s.jsx(p,{items:c.filter(n=>n.id!==m.userId)})]})};export{E as default};
